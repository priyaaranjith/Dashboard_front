<app-navbar></app-navbar>
<div class="row" style="font-family: 'Poppins';width: 100%;margin-top: 4%;">
  <div class="col col-xxl-6">
  </div>
  <div class="col col-xxl-8" style="background-color: rgba(218, 208, 255, 0.11); padding: 10px; margin-left: 300px;">
    <div class="row">
      <div class="col col-xxl-6">
        <div class="row">
          <div class="col col-xxl-6">
            <h2 class="" style="color:rgb(19, 56, 116)">Dashboard</h2>
          </div>
          <div class="col col-xxl-6">


            <div class="col" *ngFor="let j of dashboard">

              <div class="dropdown">

                <button class="btn btn-light dropdown-toggle align-right" type="button" data-bs-toggle="dropdown"
                  aria-expanded="false">

                  {{ selectedOption || 'Select option' }}

                </button>
                <ul class="dropdown-menu">

                  <li><a class="dropdown-item" (click)="dateFilterClick('2023-05-15')">2023-05-15</a></li>

                  <li><a class="dropdown-item" (click)="dateFilterClick('2023-05-02')">2023-05-02</a></li>

                  <li><a class="dropdown-item" (click)="dateFilterClick('2023-04-28')">2023-04-28</a></li>

                  <!-- <li><a class="dropdown-item" (click)="dateFilter(i.date,'Pending')">Pending</a></li> -->
                </ul>

              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="text-center" *ngIf="isLoading">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
    <div class="row">
      <div class="col col-xxl-6">
        <div class="row">
          <!-- three square -->
          <div class="col col-xxl-4" *ngFor="let p of filterDateProcedures">
            <div class="card shadow-sm" style="width: 10rem;">
              <div class="card-body">
                <h5 class="card-title" style="color:rgb(19, 56, 116)">Total</h5>
                <h5 class="card-title" style="color:rgb(19, 56, 116)">Procedures</h5>
                <h3 class="card-title mb-2 text-body-secondary ">{{p.total_procedures}}</h3>
                <p class="card-text" style="color: rgb(74, 232, 74);">{{p.percentage}}</p>
                <p class="card-text" style="color: gray;">{{p.since}}</p>
              </div>
            </div>
          </div>
          <div class="col col-xxl-4" *ngFor="let i of filter">

            <div class="card shadow-sm" style="width: 10rem;">
              <div class="card-body">
                <h5 class="card-title" style="color:rgb(19, 56, 116)">Total</h5>
                <h5 class="card-title" style="color:rgb(19, 56, 116)">Order</h5>
                <h3 class="card-subtitle mb-2 text-body-secondary">{{i.total_orders}}</h3>
                <p class="card-text" style="color: rgb(74, 232, 74);">{{i.percentage}} </p>
                <p class="card-text" style="color: gray; margin-top: 19px;">{{i.since}}</p>
              </div>
            </div>
          </div>
          <div class="col col-xxl-4" *ngFor="let r of filterDateReturn">

            <div class="card shadow-sm" style="width: 10rem;">
              <div class="card-body">
                <h5 class="card-title" style="color:rgb(74, 74, 136)">Return</h5>
                <h5 class="card-title" style="color:rgb(74, 74, 136)">Pending</h5>
                <h3 class="card-subtitle mb-2 text-body-secondary">{{r.return_pending}}</h3>
                <p class="card-text " style="color: gray; margin-top: 50px;">{{r.since}}</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <!-- top hospital in orders -->
          <div class="col col-xxl-12">
            <div class="card shadow-sm" style="width: 500px; margin-top: 15px;">
              <div class="card-header">
                Top Hospitals in Order
              </div>
              <div class="card-body" *ngFor="let i of filterDateHospital " style="padding: 3px; padding-left: 20px; padding-right: 20px;padding-top: 10px;">
                <div class="mb-3">
                  <div class="d-flex align-items-center" >
                    <div class="flex-shrink-0 me-3">{{i.name}}</div>
                    <div class="progress flex-grow-1" style="height: 5px;">
                      <div class="progress-bar" role="progressbar" style="width: 70%;" aria-valuenow="70"
                        aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div class="ms-3">{{i.total_orders}}</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col col-xxl-6">
        <!-- right side of page -->
        <div style="float: right;">
          <div class="card " style="width: 98%; height: 435px; padding: 0;">
            <div class="card-body" style="padding: 5; padding-bottom: 0;">
              <div class="row">
                <div class="col">
                  <h5>Order Request Map</h5>
                </div>
                <div class="col"><span class="dots-icon"><i class="fas fa-ellipsis-v"></i></span></div>
              </div>
            </div>
            <div class="card-body" style="padding: 0;">
              <!-- map -->
              <div class="container-fluid">
                <div class="map-responsive">
                  <iframe
                    src="https://www.google.com/maps/embed/v1/place?key=AIzaSyA0s1a7phLN0iaD6-UE7m4qP-z21pH0eSc&q=Eiffel+Tower+Paris+France"
                    width="450px" height="300px" frameborder="0" style="border:0" allowfullscreen></iframe>
                </div>

                <div class="dot-container">
                  <span class="dot dot-blue"></span>
                  <span class="dot-text">Order</span>
                  <span class="dot dot-orange"></span>
                  <span class="dot-text">Return</span>
                  <span class="dot dot-green"></span>
                  <span class="dot-text">Fulfilled</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col col-xxl-8">
        <div class="card shadow-sm" style="width: 100%;height:250px ; margin-top: 15px;">
          <div class="card-header">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Consumables</th>
                  <th scope="col">As on date</th>
                  <th scope="col">Count</th>
                  <th scope="col">Action</th>

                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let i of filterDateConsumable">
                  <td>{{i.consumables}}</td>
                  <td>{{i.date}}</td>
                  <td>{{i.count}}</td>
                  <button type="button" class="btn bg-warning text-light"
                    style="padding-top: 5px; margin-top: 15px;">Reorder</button>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>
      <div class="col col-xxl-4">
        <div class="card shadow-sm" style="width: 95%;height:250px ; margin-top: 15px;">


          <img src="assets/images/MicrosoftTeams-image.png" class="card-img-top" alt="...">
          <br>
          <p style="padding-left: 30px; font-size: small;">Download Excel Sheet</p>
          <button type="button" class="btn btn-warning"
            style="width:100px ;height: 40px; margin-left: 190px; margin-top: -50px; font-size:x-small;color:aliceblue;">Download
            Now</button>


        </div>


      </div>
    </div>
